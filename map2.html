<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML Strict//EN">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <title>Map 02</title>
    <script type="text/javascript" src="underscore.js"></script>
    <script type="text/javascript" src="js/jquery-1.8.3.js"></script>
    <script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
    <script type="text/javascript" src="js/jquery.svg.package/jquery.svg.js"></script>
    <script type="text/javascript" src="js/colorbox/jquery.colorbox.js"></script>
    
    <script type="text/javascript" src="my2.js"></script>
    <script type="text/javascript" src="common.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $(".accident").colorbox({inline:true, href: "#accident-info", opacity:0, transition:'none'});
        });
    </script>
    <link rel="stylesheet" href="js/colorbox/colorbox.css" />
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" />
    <style type="text/css" media="screen">
        #nsw, #vic, #wa, #sa, #nt, #qld, #tas {
            display: none;
            height: 400px;
            overflow: auto;
            position: absolute;
            right: 0;
            top: 0;
            width: 300px;
        }
        h2 {
            text-align: center;
        }
    </style>
    <script>
        $(function() {
            window.currentYear = "2531"
            var yearArr = [2531, 2534, 2546, 2555];
            var yearInvertArr = yearArr.reverse();

            $( "#slider-range-max" ).slider({
                range: "max",
                min: 2531,
                max: 2555,
                value: 2531,
                slide: function( event, ui ) {
                    window.currentYear = ui.value

                    //For debug on screen
                    var val = $( "#amount" ).val( ui.value );

                    var current_map_year = _.find(yearInvertArr, function(year){
                        return year <= ui.value;
                    })

                    LayerManager.show(current_map_year, getCurrentLayers());
                }
            });

            //Update #amount (first time)
            $( "#amount" ).val( $( "#slider-range-max" ).slider( "value" ) );

        });
    </script>

    <body style="margin:0px; padding:3px 0px 0px 0px;">
        <div class="year-haystack"></div>
        <p>
            <label for="amount">Year:</label>
            <input type="text" id="amount" style="border: 0; color: #f6931f; font-weight: bold;" />
        </p>
        <div style="margin-left: 200px; width:800px">
            <div id="slider-range-max"></div>
        </div>
        <div style="width:860px">
            Move te mouse over the spots
       </div>
        <div id="svgload"></div>

        <div style='display:none'>
            <div id="accident-info">
                <p>3 พฤศจิกายน 2549​</p>
                <p>คำอธิบายอุบัติเหตุ</p>
                <p>สถานที่: </p>
                <p>ผลกระทบ: </p>
            </div>
        </div>
    </body>
</html>

